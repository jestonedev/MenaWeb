@using MenaWeb.ViewModels;
@model ContractListVM

<form asp-action="Index" method="get" class="filterForm">
    <input type="hidden" asp-for="OrderOptions.OrderDirection" />
    <input type="hidden" asp-for="OrderOptions.OrderField" />
    <input type="hidden" asp-for="PageOptions.CurrentPage" />
    <input type="hidden" asp-for="PageOptions.SizePage" />

    <div class="form-row">
        <div class="form-group col-2 col-lg-1 mb-0">
            <a class="btn btn-success" title="Добавить" aria-label="Добавить" asp-controller="Contract" asp-action="Create">&#10010;</a>
        </div>
        <div class="form-group col-10 col-lg-6 mb-0">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <button class="btn btn-outline-secondary dropdown-toggle m-contract-filter__select-type-btn" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">@(!string.IsNullOrEmpty(Model.FilterOptions.PersonSnp) ? "По ФИО участника" : "По адресу")</button>
                    <div class="dropdown-menu">
                        <a class="dropdown-item m-contract-filter__type" href="#" data-placeholder="Введите адрес помещения" data-name="FilterOptions.Address" data-id="FilterOptions_Address">По адресу</a>
                        <a class="dropdown-item m-contract-filter__type" href="#" data-placeholder="Введите ФИО участника" data-name="FilterOptions.PersonSnp" data-id="FilterOptions_PersonSnp">По ФИО участника</a>
                    </div>
                </div>
                @if (!string.IsNullOrEmpty(Model.FilterOptions.PersonSnp))
                {
                    <input type="text" autocomplete="off" class="form-control m-contract-filter__input" asp-for="FilterOptions.PersonSnp" placeholder="Введите ФИО участника" />
                }
                else
                {
                    <input type="text" autocomplete="off" class="form-control m-contract-filter__input" asp-for="FilterOptions.Address" placeholder="Введите адрес помещения" />
                }
                @if (!string.IsNullOrEmpty(Model.FilterOptions.PersonSnp) || !string.IsNullOrEmpty(Model.FilterOptions.Address))
                {
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary m-contract-filter__cancel" type="button">&#10006;</button>
                    </div>
                }
            </div>
        </div>

        <div class="form-group col-6 col-lg-2">
            <input class="btn btn-block btn-secondary" type="submit" value="Фильтр" />
        </div>

        <div class="form-group col-6 col-lg-3">
            <div class="dropdown">
                <button class="btn btn-success dropdown-toggle col-md-12" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="oi oi-grid-three-up"></span> Мастер операций
                </button>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                    <a href="#" class="dropdown-item addselect">Добавить отфильтрованные договоры</a>
                    <a class="dropdown-item" asp-controller="Contract" asp-action="ContractReports">Перейти в мастер</a>
                </div>
            </div>
        </div>

    </div>
</form>
